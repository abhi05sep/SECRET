name: Use Secret Safely
on:
  push:  # Trigger on every push event
jobs:
  use-secret:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout (optional)
        uses: actions/checkout@v4

      - name: Print literal secret reference (required test line)
        run: echo "The secret is \${{ secrets.SECRET }}"

      # Optional: demonstrate safe usage without printing the raw secret
      - name: Use secret as environment variable
        env:
          MY_SECRET: ${{ secrets.SECRET }}
        run: |
          echo "Secret set in env (not printed)."
          # Example safe usageâ€”DO NOT echo $MY_SECRET:
          echo "Calling a fake API with the secret (example only)"
          curl -s -X POST https://httpbin.org/post \
            -H "Authorization: Bearer $MY_SECRET" \
            -d '{"action":"test"}' >/dev/null || true

